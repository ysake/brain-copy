#!/usr/bin/env python3
"""
膨大なマッピング用のテキストデータを生成する。
複数テーマ×バリエーションで、クラスタ・接続が豊かになるようにする。
"""

import random

# テーマごとのテンプレート（1行1メモとして出力）
THEMES = {
    "顧客体験・ジャーニー": [
        "顧客体験のジャーニー整理メモ",
        "カスタマージャーニーマップの更新案",
        "タッチポイントごとの感情曲線",
        "オンボーディングの体験設計",
        "離脱ポイントの分析と改善案",
        "ペルソナ別ジャーニーシナリオ",
        "カスタマーサクセス指標の見直し",
        "NPS改善のための体験設計",
        "初回利用時のワクワク設計",
        "リピート率向上のジャーニー施策",
        "顧客の声をジャーニーに落とし込む",
        "A/Bテストで検証した体験フロー",
        "オムニチャネルでの一貫した体験",
        "エンドツーエンドの体験設計",
    ],
    "ブランド・トーン": [
        "ブランド世界観のトーン&マナー案",
        "ブランドボイスガイドラインの改訂",
        "ターゲットに響くコピー表現",
        "ビジュアルアイデンティティの統一",
        "ロゴ使用ガイドの整備",
        "カラーシステムとアクセシビリティ",
        "フォント選定とタイポグラフィ",
        "写真・イラストのトーン統一",
        "SNS投稿のトーンテスト",
        "ブランドストーリーの言語化",
        "競合との差別化メッセージ",
        "タグラインの候補と選定理由",
    ],
    "XR・空間UI": [
        "XR空間UIのインタラクション案",
        "立体的な情報配置のスケッチ",
        "視線誘導と奥行き表現の検討",
        "空間内ナビゲーションのパターン",
        "ARオーバーレイの情報設計",
        "没入感とUIの両立",
        "ハンドトラッキングでの操作設計",
        "空間オーディオとUIの連動",
        "マルチユーザー空間のUI原則",
        "VRでのメニューとHUD設計",
        "現実と仮想の境界のデザイン",
        "空間UIのアクセシビリティ",
        "プロトタイプで検証した空間インタラクション",
    ],
    "プロダクト戦略": [
        "プロダクト戦略と可視化",
        "ロードマップの優先度付け",
        "KPIとOKRの紐付け",
        "フィーチャー優先度の判断基準",
        "技術的負債と新機能のバランス",
        "ユーザーリサーチに基づくバックログ",
        "競合分析と差別化ポイント",
        "プロダクトビジョンの言語化",
        "リリースサイクルと品質の両立",
        "ステークホルダーとの合意形成",
        "プロダクト指標ダッシュボード案",
        "実験とイテレーションの文化",
    ],
    "デザイン・価値提供": [
        "デザイナー最初期の価値提供",
        "デザインスプリントの進め方",
        "デザインシステムの拡張方針",
        "コンポーネントの再利用と一貫性",
        "プロトタイプの fidelity の選び方",
        "デザインレビューの効率化",
        "デザインとエンジニアリングのハンドオフ",
        "アクセシビリティチェックリスト",
        "デザイン原則のドキュメント化",
        "ユーザビリティテストの計画",
        "ヒューリスティック評価の結果",
        "デザインの影響を定量的に測る",
    ],
    "マーケ・成長": [
        "マーケの方程式とKPI設計",
        "チャネル別の獲得コスト分析",
        "コンバージョンファネルの最適化",
        "リテンション施策の仮説",
        "バイラルループの設計",
        "ランディングページの改善案",
        "メールマーケのオートメーション",
        "コンテンツマーケのテーマ計画",
        "インフルエンサー連携の検討",
        "SEOとコンテンツ戦略",
        "有料広告のクリエイティブテスト",
        "マーケとプロダクトの連携",
    ],
    "スタートアップ・組織": [
        "スタートアップの越境行動",
        "少人数チームの役割の掛け持ち",
        "リモートとオフィスのハイブリッド",
        "意思決定のスピードと質",
        "採用とカルチャーフィット",
        "オンボーディングとナレッジ共有",
        "1on1とフィードバックの文化",
        "心理的安全性の醸成",
        "失敗から学ぶ振り返りのやり方",
        "チームの信頼を得るコミュニケーション",
        "越境して動くときの合意形成",
        "スピードと品質のトレードオフ",
    ],
    "ナレッジ・ドキュメント": [
        "社内ナレッジ共有プラットフォームの構想",
        "ドキュメント分類と検索性改善のアイデア",
        "NotionとWikiの使い分け",
        "議事録と決定事項の残し方",
        "オンボーディング用ドキュメントの整備",
        "検索しやすいタイトルとタグのルール",
        "ナレッジの陳腐化を防ぐ運用",
        "テンプレートとガイドラインの一元化",
        "非同期コミュニケーションの文化",
        "ドキュメントファーストの意思決定",
        "チャンクと要約の自動化の検討",
        "関連ドキュメントのリンク設計",
    ],
    "技術・実装": [
        "フロントエンドのパフォーマンス最適化",
        "API設計とバージョニング方針",
        "テスト戦略とカバレッジ",
        "CI/CDパイプラインの改善",
        "インフラのスケーラビリティ",
        "セキュリティと認証の設計",
        "ログとモニタリングの標準化",
        "技術選定の判断基準",
        "レガシーコードのリファクタ計画",
        "マイクロサービス間の連携",
        "障害対応とポストモーテム",
        "開発環境の統一",
    ],
    "フォント・タイポグラフィ": [
        "プロが使う鉄板欧文フォント19個",
        "和文と欧文の混植ルール",
        "可読性と視認性のバランス",
        "フォントライセンスと利用範囲",
        "可変フォントの活用案",
        "UI用フォントの選定基準",
        "アクセシビリティとフォントサイズ",
        "タイポグラフィの階層設計",
        "ブランドに合うフォントの組み合わせ",
    ],
    "スレッド・ソーシャル": [
        "Thread by @heralbony の要点メモ",
        "Xでの議論のまとめとアクション",
        "業界インフルエンサーの発信分析",
        "バズった投稿の共通パターン",
        "コミュニティ運営のベストプラクティス",
        "DMと公開投稿の使い分け",
        "ハッシュタグとリーチの関係",
        "ソーシャルリスニングの活用",
        "クロスポストの効果測定",
    ],
    "AI・自動化": [
        "AI時代のマーケの方程式",
        "LLMを活用した要約と分類",
        "プロンプト設計のノウハウ",
        "AIアシスタントと人間の役割分担",
        "生成AIの品質チェック方法",
        "データとAIのガバナンス",
        "自動化で省力化した業務",
        "AIによるパーソナライゼーション",
        "ハルシネーション対策と検証",
    ],
    "リサーチ・分析": [
        "定性リサーチのインタビュー設計",
        "定量調査の質問設計とバイアス",
        "ユーザー観察の記録と分析",
        "ジョブ理論に基づくニーズ分析",
        "競合の機能比較マトリクス",
        "市場規模とトレンドの調査",
        "ペルソナ検証のためのリサーチ",
        "A/Bテストのサンプルサイズ設計",
        "カードソートで得られた情報構造",
    ],
    "日常・雑多": [
        "今日のお昼はうどん",
        "今日の夜はおそば",
        "週末の読書リスト",
        "オフィス近くのカフェメモ",
        "会議の前にコーヒー",
        "ランチの候補リスト",
        "通勤中のポッドキャスト",
        "買い物リストとメモ",
        "週次振り返りのテンプレ",
        "明日のToDoの下書き",
    ],
    "イベント・コミュニティ": [
        "オンライン勉強会の企画メモ",
        "カンファレンスの登壇テーマ候補",
        "コミュニティイベントの運営ノウハウ",
        "ネットワーキングのフォローアップ",
        "LT会のテーマと構成",
        "ワークショップのファシリテーション",
        "オンラインとオフラインのハイブリッド開催",
        "スポンサーとパートナーの連携",
        "参加者アンケートの分析",
        "イベント後のナレッジ共有",
    ],
    "法務・契約": [
        "利用規約の更新と告知",
        "プライバシーポリシーの見直し",
        "契約書のレビューポイント",
        "NDAのテンプレート整備",
        "知的財産とライセンスの整理",
        "データ利用と同意取得",
        "契約更新のリマインダー運用",
    ],
    "財務・運用": [
        "予算と実績の比較分析",
        "コスト削減の検討事項",
        "サブスク収益の分析",
        "請求と支払いのフロー改善",
        "見積もりとスコープの管理",
        "ROIの可視化と報告",
    ],
}

# ハブ的に使うフレーズ（複数テーマにまたがるので中央寄りになりやすい）
BRIDGE_PHRASES = [
    "プロダクトとデザインの連携",
    "ユーザー中心の意思決定",
    "データに基づく改善",
    "体験の一貫性とブランド",
    "チームの生産性とナレッジ",
    "技術とビジネスのバランス",
    "マーケとプロダクトのKPI",
    "デザインシステムと開発",
    "顧客体験と収益の両立",
    "リモートでの協働とドキュメント",
    "アクセシビリティとインクルージョン",
    "実験と学習のサイクル",
    "スピードと品質の両立",
    "ユーザーリサーチと仮説検証",
    "オンボーディングと定着",
]


def main():
    random.seed(42)
    lines = []

    # 各テーマから全て追加
    for theme_name, phrases in THEMES.items():
        lines.extend(phrases)
        # 同じテーマ内で言い換えバリエーションを追加（数値・日付だけ変えるなど）
        for p in phrases[: min(5, len(phrases))]:
            if "メモ" in p or "案" in p or "検討" in p:
                lines.append(p.replace("メモ", "ノート").replace("案", "案（v2）").replace("検討", "検討・続き"))
            if "設計" in p or "構想" in p:
                lines.append(p.replace("設計", "設計の続き").replace("構想", "構想メモ"))

    # ブリッジフレーズを複数回入れて「ハブ」っぽくする
    for _ in range(5):
        lines.extend(BRIDGE_PHRASES)

    # ボリュームを増やす（同じ文に接尾辞を付けたバリエーション）
    suffixes = ["（優先）", "（後回し）", "・メモ", "・仮説", "・続き", ""]
    extra = []
    for phrase in list(lines):
        if random.random() < 0.5 and len(extra) < 250:
            extra.append(phrase + random.choice(suffixes) if random.random() < 0.4 else phrase)
    lines.extend(extra)

    # ランダムにシャッフル
    random.shuffle(lines)

    out_path = "texts.txt"
    with open(out_path, "w", encoding="utf-8") as f:
        f.write("\n".join(lines))

    print(f"Generated {len(lines)} lines in {out_path}")
    print("Run: python text_to_cluster_csv.py --input texts.txt --output cluster_points.csv --clusters 10")
    print("(Use --clusters 10 or higher for a richer map; --connection-percentile 25 for more edges.)")


if __name__ == "__main__":
    main()
